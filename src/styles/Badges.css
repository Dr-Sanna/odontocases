/* =========================
   Badges (global)
   ========================= */

:root {
  /* réglage global “soft” */
  --badge-soft-bg-strength: 88%;
  --badge-soft-border-strength: 60%;

  /* danger (par défaut) */
  --badge-danger-soft-border-strength: var(--badge-soft-border-strength);
  --badge-danger-outline-border-strength: 45%;
}

[data-theme='dark'] {
  --badge-soft-bg-strength: 92%;
  --badge-soft-border-strength: 55%;

  --badge-danger-soft-border-strength: 45%;
  --badge-danger-outline-border-strength: 35%;
}

/* ✅ Danger: bordures moins agressives en LIGHT */
[data-theme='light'] {
  /* couleur source de bordure plus claire */
  --badge-danger-outline-border-color: var(--ifm-color-danger-lighter);
  --badge-danger-soft-border-color: var(--ifm-color-danger-lightest);

  /* force du mix plus faible => moins visible */
  --badge-danger-outline-border-strength: 18%;
  --badge-danger-soft-border-strength: 28%;
}

/* =========================
   Base
   ========================= */
.badge {
  background-color: var(--ifm-badge-background-color);
  border: var(--ifm-badge-border-width) solid var(--ifm-badge-border-color);
  border-radius: var(--ifm-badge-border-radius);
  color: var(--ifm-badge-color);

  font-size: 75%;
  font-weight: var(--ifm-font-weight-bold);

  display: inline-flex;
  align-items: center;
  justify-content: center;

  line-height: 1;
  vertical-align: middle;

  padding-inline: var(--ifm-badge-padding-horizontal);

  /* compensation optique */
  padding-top: calc(var(--ifm-badge-padding-vertical) - 1px);
  padding-bottom: calc(var(--ifm-badge-padding-vertical) + 1px);
}

/* =========================
   Outline (plein)
   ========================= */
.badge-outline {
  background-color: transparent;
  border-color: var(--badge-outline-border, var(--ifm-badge-border-color));
  color: var(--badge-outline-fg, var(--ifm-badge-border-color));
}

/* =========================
   Soft (2 variantes)
   - .badge-soft          => fond léger, PAS de bordure (cartes)
   - .badge-soft-outline  => fond léger, AVEC bordure (CaseDetail)
   ========================= */
.badge-soft,
.badge-soft-outline {
  font-weight: 400;

  /* fallback sans color-mix */
  background-color: var(--badge-soft-bg, transparent);
  color: var(--badge-soft-fg, var(--ifm-badge-color));
}

/* soft sans outline */
.badge-soft {
  border-color: transparent;
}

/* soft avec outline */
.badge-soft-outline {
  border-color: var(--badge-soft-border, var(--ifm-badge-border-color));
}

/* =========================
   Upgrade progressif (color-mix)
   ========================= */
@supports (background-color: color-mix(in srgb, white 50%, transparent)) {
  .badge-soft,
  .badge-soft-outline {
    background-color: color-mix(
      in srgb,
      var(--badge-soft-bg) var(--badge-soft-bg-strength),
      transparent
    );
  }

  .badge-soft-outline {
    border-color: color-mix(
      in srgb,
      var(--badge-soft-border) var(--badge-soft-border-strength),
      transparent
    );
  }

  /* danger soft outline: bordure encore plus douce */
  .badge-soft-outline.badge-danger {
    border-color: color-mix(
      in srgb,
      var(--badge-soft-border) var(--badge-danger-soft-border-strength),
      transparent
    );
  }

  /* danger outline: bordure moins “flashy” */
  .badge-outline.badge-danger {
    border-color: color-mix(
      in srgb,
      var(--badge-outline-border) var(--badge-danger-outline-border-strength),
      transparent
    );
  }
}

/* =========================
   Variantes couleur (vars)
   ========================= */
.badge-secondary {
  --ifm-badge-background-color: var(--ifm-color-secondary);
  --ifm-badge-border-color: var(--ifm-badge-background-color);
  --ifm-badge-color: var(--ifm-color-black);

  --badge-soft-bg: var(--ifm-color-secondary-contrast-background);
  --badge-soft-fg: var(--ifm-color-secondary-contrast-foreground);
  --badge-soft-border: var(--ifm-color-secondary-dark);

  --badge-outline-border: var(--ifm-color-secondary-dark);
  --badge-outline-fg: var(--ifm-color-secondary-contrast-foreground);
}

.badge-info {
  --ifm-badge-background-color: var(--ifm-color-info);
  --ifm-badge-border-color: var(--ifm-badge-background-color);
  --ifm-badge-color: var(--ifm-color-white);

  --badge-soft-bg: var(--ifm-color-info-contrast-background);
  --badge-soft-fg: var(--ifm-color-info-contrast-foreground);
  --badge-soft-border: var(--ifm-color-info-dark);

  --badge-outline-border: var(--ifm-color-info);
  --badge-outline-fg: var(--ifm-color-info);
}

.badge-success {
  --ifm-badge-background-color: var(--ifm-color-success);
  --ifm-badge-border-color: var(--ifm-badge-background-color);
  --ifm-badge-color: var(--ifm-color-white);

  --badge-soft-bg: var(--ifm-color-success-contrast-background);
  --badge-soft-fg: var(--ifm-color-success-contrast-foreground);
  --badge-soft-border: var(--ifm-color-success-dark);

  --badge-outline-border: var(--ifm-color-success);
  --badge-outline-fg: var(--ifm-color-success);
}

.badge-danger {
  --ifm-badge-background-color: var(--ifm-color-danger);
  --ifm-badge-border-color: var(--ifm-badge-background-color);
  --ifm-badge-color: var(--ifm-color-white);

  --badge-soft-bg: var(--ifm-color-danger-contrast-background);
  --badge-soft-fg: var(--ifm-color-danger-contrast-foreground);

  /* ✅ route via variables thème */
  --badge-outline-border: var(--badge-danger-outline-border-color, var(--ifm-color-danger));
  --badge-soft-border: var(--badge-danger-soft-border-color, var(--ifm-color-danger));

  --badge-outline-fg: var(--ifm-color-danger);
}

.badge-warning {
  --ifm-badge-background-color: var(--ifm-color-warning);
  --ifm-badge-border-color: var(--ifm-badge-background-color);
  --ifm-badge-color: var(--ifm-color-white);

  --badge-soft-bg: var(--ifm-color-warning-contrast-background);
  --badge-soft-fg: var(--ifm-color-warning-contrast-foreground);
  --badge-soft-border: var(--ifm-color-warning-dark);

  --badge-outline-border: var(--ifm-color-warning);
  --badge-outline-fg: var(--ifm-color-warning);
}

/* =========================
   Mobile: hide badges
   ========================= */
@media (max-width: 560px) {
  .badge {
    display: none !important;
  }
}

